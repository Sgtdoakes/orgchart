<div class="col-sm-12 container"> 
  <div class="menu">
    <div class="menu-item">
      <span class="green-reference-dot"></span>
      <p class="menu-text">Within range</p>
    </div>
     <div class="menu-item"><span class="orange-reference-dot"></span>
      <p class="menu-text">Just above range (+1)</p>
    </div>
    <div class="menu-item"><span class="red-reference-dot"></span>
      <p class="menu-text">Well above range (+3)</p>
    </div>
  </div>
  <p-organizationChart [value]="counselorNodes" selectionMode="single" [(selection)]="selectedNode"
    [preserveSpace]=false class="horizontalChart">
    <ng-template let-node pTemplate="default" class="horizontalNode">
      <div class="node-content row e"
        style="width:140px !important; height: 190px !important; margin-top: -11px; margin-bottom: 10px;"
        [ngStyle]="{'height': getLabel(node.data.label)}">
        <div class="photo"
          [style.background-image]="!!node.data.avatar ? 'url(\'' + node.data.avatar + '\')' : 'url(\'' + 'assets/fotos/imagengenÃ©rica.jpg' + '\')'"
          [ngClass]="node.data.rank == 'Executive Director' ? 'node-content-mute' : getCountForRank(node.data.rank) == 0 && node.children.length == 0 ? 'node-content-mute' :
           node.children.length >= getCountForRank(node.data.rank) + 3 ? 'node-content-red' : 
           node.children.length >= getCountForRank(node.data.rank) + 1 ? 'node-content-orange' : 'node-content-green'">
        </div>
        <div class="relation_ship_css_client rel_client_one badge badge-primary">
          <div class="counter"
            *ngIf="node.data.name != 'Ajay Samuel'  && (getCountForRank(node.data.rank) != 0 || node.children.length > 0)"
            [ngClass]="node.children.length >= getCountForRank(node.data.rank) + 3 ? 'red-dot' : 
                       node.children.length >= getCountForRank(node.data.rank) + 1 ? 'orange-dot' : 'green-dot'">
            {{node.children.length}}
          </div><br />
          <span class="rel_node_name">{{node.data.rank}}</span><br />
        </div>
        <div class="name_css_profile name_profile_one">
          <span class="rel_label_name">{{node.data.name}}</span>
        </div>
      </div>
    </ng-template>
  </p-organizationChart>
</div>
